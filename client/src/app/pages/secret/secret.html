<app-layout>
    <h1 class="text-4xl font-extrabold mb-2 font-serif sm:w-[60%]">
        This secret is trusted only for you
    </h1>

    @if (!secret) {
        <h2 class="mb-5 text-xl sm:w-[65%]">
            The secret will be shown only once!
        </h2>

        <app-input
            type="password"
            name="passphrase"
            placeholder="Enter the passphrase"
        />

        <app-button
            class="mt-5"
            [disabled]="false"
            (click)="revealSecret()">
            Decrypt and reveal the secret &rarr;
        </app-button>
    } @else {
        <h2 class="mb-5 text-xl sm:w-[65%]">
            After you leave or refresh the page that message will be destructed
        </h2>

        <textarea
            [value]="secret.content"
            [maxLength]="5000"
            [readOnly]="true"
            class="min-h-30 w-full shadow-xs bg-gray-100 outline-0 px-4 py-3 rounded-xl placeholder:text-zinc-400 outline-1 -outline-offset-1 outline-gray-200 [textarea:focus-within]:outline-2 [textarea:focus-within]:-outline-offset-2 [textarea:focus-within]:outline-blue-600"></textarea>

        <app-button
            class="mt-5"
            (click)="selectAndCopyToClipboard()">
            Copy to clipboard
        </app-button>
    }
</app-layout>
